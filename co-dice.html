<link rel="import" href="../polymer/polymer.html">

<!--
`co-dice`
Six-sided dice

@demo demo/index.html 
-->

<dom-module id="co-dice">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
    <span>
    <svg width$="{{dicesize}}" height$="{{dicesize}}" width$="{{dicesize}}" class="dice">
      <rect fill$="{{color}}"
	    rx$= "{{part(dicesize,8)}}"
	    ry$= "{{part(dicesize,8)}}"
	    width$="{{dicesize}}"
	    height$="{{dicesize}}"
	    >
      </rect>
      <circle cy$="{{cy(dicesize,4)}}",
	      cx$="{{cx(dicesize,4)}}",
	      r$="{{part(dicesize,9)}}"
	      fill$="{{ccolor(value,4,color,dotcolor)}}">
      </circle>	
      <circle cy$="{{cy(dicesize,1)}}",
	      cx$="{{cx(dicesize,1)}}",
	      r$="{{part(dicesize,9)}}"
	      fill$="{{ccolor(value,1,color,dotcolor)}}">
      </circle>	
      <circle cy$="{{cy(dicesize,2)}}",
	      cx$="{{cx(dicesize,2)}}",
	      r$="{{part(dicesize,9)}}"
	      fill$="{{ccolor(value,2,color,dotcolor)}}">
      </circle>	
      <circle cy$="{{cy(dicesize,3)}}",
	      cx$="{{cx(dicesize,3)}}",
	      r$="{{part(dicesize,9)}}"
	      fill$="{{ccolor(value,3,color,dotcolor)}}">
      </circle>	
      <circle cy$="{{cy(dicesize,5)}}",
	      cx$="{{cx(dicesize,5)}}",
	      r$="{{part(dicesize,9)}}"
	      fill$="{{ccolor(value,5,color,dotcolor)}}">
      </circle>	
      <circle cy$="{{cy(dicesize,6)}}",
	      cx$="{{cx(dicesize,6)}}",
	      r$="{{part(dicesize,9)}}"
	      fill$="{{ccolor(value,6,color,dotcolor)}}">
      </circle>	
      <circle cy$="{{cy(dicesize,7)}}",
	      cx$="{{cx(dicesize,7)}}",
	      r$="{{part(dicesize,9)}}"
	      fill$="{{ccolor(value,7,color,dotcolor)}}">
      </circle>	
    </svg>
    <span>
  </template>

  <script>
    Polymer({

      is: 'co-dice',

      properties: {
          dicesize: {
              type: Number,
              value: 50,
          },
          value: {
              type: Number,
              value: 6,
          } ,
	  dotcolor: {
	      type: String,
	      value: 'white'
	  },
	  color: {
	      type: String,
	      value: 'red'
	  }
      },
	ccolor: function(value,pos,color,dotcolor){
	    if ( (value == 1 || value == 5 || value == 3 ) && pos == 4 ){
		return dotcolor;
	    }
	    if ( (value == 5 || value == 6 || value == 4 || value == 2 || value == 3)
		&& (pos == 1 || pos == 7) ){
		    return dotcolor;
	    }
	    if ( value == 6 && ( pos == 2 || pos == 6 )){
		return dotcolor;
	    }
	    if ((value == 5 || value == 6 || value == 4) && (pos == 3 || pos ==5) ){
		return dotcolor;
	    }
	    return color;
	},
	cx: function(dicesize,pos){
	    if (pos == 4 ){
		return dicesize / 2;
	    }
	    if (pos == 1 || pos == 2 || pos == 3){
		return dicesize / 4;
	    }
	    if (pos == 5 || pos == 6 || pos == 7){
		return dicesize - dicesize / 4;
	    }
	},
	cy: function(dicesize,pos){
	    if ( pos == 2 || pos == 4 || pos == 6) {
		return dicesize / 2;
	    }
	    if (pos == 1 || pos == 5 ) {
		return dicesize / 4;
	    }
	    if (pos == 3 || pos == 7){
		return dicesize - dicesize/4;
	    }
	},
	part: function(dicesize,p){
	    return (+ dicesize)/p;
	},
	r: function(dicesize){
	    return (+ dicesize)/6;
	},
	dot: function(dicesize){
	    return (+ dicesize)/8;
	}
    });
  </script>
</dom-module>
